{% extends 'base.html' %}

{% block title %}{{ action }} Cadet{% endblock %}

{% block content %}
<div class="container">
	<div class="row">
		<div class="col-md-8 offset-md-2">
			<div class="card">
				<div class="card-header d-flex justify-content-between align-items-center">
					<h5 class="mb-0">{{ action }} Cadet</h5>
					<a href="{% url 'cadet_list' %}" class="btn btn-sm btn-outline-secondary">Back to list</a>
				</div>
				<div class="card-body">
					<form method="post" novalidate>
						{% csrf_token %}

						{% if form.non_field_errors %}
						<div class="alert alert-danger">
							{{ form.non_field_errors }}
						</div>
						{% endif %}

						{# Render form fields manually (no Crispy Forms) #}
						{% for field in form.visible_fields %}
						<div class="mb-3">
							<label for="{{ field.auto_id }}" class="form-label">{{ field.label }}{% if field.field.required %} <span class="text-danger">*</span>{% endif %}</label>
							{{ field }}
							{% if field.help_text %}
							<div class="form-text">{{ field.help_text }}</div>
							{% endif %}
							{% for error in field.errors %}
							<div class="invalid-feedback d-block">{{ error }}</div>
							{% endfor %}
						</div>
						{% endfor %}

						<div class="mt-3">
							<button type="submit" class="btn btn-primary">{{ action }}</button>
							<a href="{% url 'cadet_list' %}" class="btn btn-secondary ms-2">Cancel</a>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock %}
